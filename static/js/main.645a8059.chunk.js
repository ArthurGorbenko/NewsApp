(this["webpackJsonpnews-app"]=this["webpackJsonpnews-app"]||[]).push([[0],{1:function(e,t,a){e.exports={wrapper:"login-form_wrapper__hT1ug",form:"login-form_form__2z5VZ",button:"login-form_button__4CiEn",title:"login-form_title__2xFVS",input:"login-form_input__1kabU"}},13:function(e,t,a){e.exports={image:"update-form_image__Z5efT",wrapper:"update-form_wrapper__UEg-u",form:"update-form_form__rBgcx",input:"update-form_input__28q4m"}},16:function(e,t,a){e.exports={wrapper_items:"list-news_wrapper_items__1NQWN",wrapper_item:"list-news_wrapper_item__3kqO0",image:"list-news_image__3w1WX"}},17:function(e,t,a){e.exports={link:"public-menu_link__1JNta",wrapper:"public-menu_wrapper__2LsCZ"}},18:function(e,t,a){e.exports={link:"user-menu_link__1lwuA",wrapper:"user-menu_wrapper__uSrmu"}},19:function(e,t,a){e.exports={wrapper:"app_wrapper__ouyX8",main:"app_main__1yD6y",header:"app_header__3FbVS"}},22:function(e,t,a){e.exports={wrapper:"loggined-user_wrapper__2KF8j",greetings:"loggined-user_greetings__1pVDD"}},36:function(e,t,a){e.exports=a(71)},70:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),o=a.n(c),u=a(12),s=a(5),l=a(9),i=a.n(l),p=a(10);function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var f=function(e){var t=Object(n.useState)({}),a=Object(s.a)(t,2),r=a[0],c=a[1],o=Object(p.c)((function(e){return e.token}));return[function(t){t&&t.preventDefault(),e(r,o)},function(e){e.persist(),c((function(t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t,Object(u.a)({},e.target.name,e.target.value))}))},r,c]};function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var E=function(e){var t=e.callback,a=e.defaultInputs,c=f(t),o=Object(s.a)(c,4),u=o[0],l=o[1],p=o[2],m=o[3],b=Object(n.useState)({}),E=Object(s.a)(b,2),g=E[0],v=E[1];r.a.createRef();Object(n.useEffect)((function(){m(w({},a))}),[a,m]),Object(n.useEffect)((function(){m(w({},p,{file:g}))}),[g,m]);return r.a.createElement("form",{className:i.a.form,onSubmit:function(e){return u(e)},encType:"multipart/form-data"},r.a.createElement("label",{className:i.a.item},"Name","  ",r.a.createElement("input",{type:"text",name:"name",value:p.name?p.name:"",onChange:function(e){return l(e)}})),r.a.createElement("label",{className:i.a.item},"Email","  ",r.a.createElement("input",{type:"email",name:"email",value:p.email?p.email:"",onChange:function(e){return l(e)}})),r.a.createElement("label",{className:i.a.item},"Topic","  ",r.a.createElement("input",{type:"text",name:"topic",value:p.topic?p.topic:"",onChange:function(e){return l(e)}})),r.a.createElement("textarea",{className:i.a.item,id:"",cols:"30",rows:"10",name:"message",placeholder:"Enter your message here...",onChange:function(e){return l(e)},value:p.message?p.message:""}),r.a.createElement("label",{className:i.a.item},"Category ","  ",r.a.createElement("select",{name:"category",onChange:function(e){return l(e)},value:p.category?p.category:"Travel"},r.a.createElement("option",{value:"Travel"},"Travel"),r.a.createElement("option",{value:"Psyhology"},"Psyhology"),r.a.createElement("option",{value:"Relationship"},"Relationship"),r.a.createElement("option",{value:"Sport"},"Sport"))),r.a.createElement("input",{className:i.a.item,type:"file",name:"file",ref:function(e){e},onChange:function(e){e.preventDefault(),v(e.target.files[0])}}),r.a.createElement("input",{className:i.a.item,type:"submit"}))},g=a(2),v=a.n(g),_=a(6),d=a(16),h=a.n(d),O=a(11),y=a.n(O),j=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){(function(){var e=Object(_.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y()({method:"get",url:"http://213.111.67.158/wordpress/wp-json/news/v1/published"});case 2:t=e.sent,c(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement("div",{className:h.a.wrapper_items},a&&a.length?a.map((function(e){return r.a.createElement("ul",{className:h.a.wrapper_item,key:e.ID},r.a.createElement("li",null,"ID:",e.ID),r.a.createElement("li",null,"Title:",e.post_title),r.a.createElement("li",null,"Content:",e.post_content),r.a.createElement("li",null,"Date:",e.post_date),r.a.createElement("li",null,"Author Name:",e.author_name),r.a.createElement("li",null,"Author Email:",e.author_email),r.a.createElement("li",null,"Attachment:",e._thumbnail_id),r.a.createElement("li",null,r.a.createElement("img",{className:h.a.image,src:e.attachment_url,alt:"page"})))})):r.a.createElement("h3",null,"Loading...."))},N=a(13),k=a.n(N),x="http://213.111.67.158/",D=("".concat(x,"wordpress/wp-json/news/v1/published"),"".concat(x,"wordpress/wp-json/news/v1/published")),S="".concat(x,"wordpress/wp-json/jwt-auth/v1/token"),P="".concat(x,"wordpress/wp-json/news/v1/user"),T="".concat(x,"wordpress/wp-json/jwt-auth/v1news/v1/published/"),C="".concat(x,"wordpress/wp-json/jwt-auth/v1news/v1/published/"),I=function(e){var t=V(e);return function(){var e=Object(_.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y()({url:D,method:"post",data:t});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(t)},L=function(e){return function(){var e=Object(_.a)(v.a.mark((function e(t){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=V(t),e.next=3,y()({method:"post",url:S,data:a});case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(e)},A=function(e){var t=V(e);return function(){var e=Object(_.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y()({method:"post",url:P,data:t});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(t)},R=function(e,t){var a=e.news_id;return function(){var e=Object(_.a)(v.a.mark((function e(a){var n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y()({method:"get",url:"".concat(T).concat(a),headers:{Authorization:"Bearer ".concat(t)}});case 2:return n=e.sent,r=n.data,e.abrupt("return",{ID:r.ID,name:r.author_name,email:r.author_email,topic:r.post_title,category:r.category,message:r.post_content,imageUrl:r.attachment_url});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(a)},U=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=function(){var a=Object(_.a)(v.a.mark((function a(){var n,r;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=V(e),a.next=3,y()({method:"post",url:"".concat(C).concat(e.ID),data:n,headers:{Authorization:"Bearer ".concat(t)}});case 3:return r=a.sent,a.abrupt("return",r);case 5:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return a(e)},V=function(e){var t=new FormData;for(var a in e)t.set(a,e[a]);return t},q=Object(p.b)((function(e){return{token:e.token}}))((function(e){var t=e.token,a=Object(n.useState)({}),c=Object(s.a)(a,2),o=c[0],u=c[1],l=f(function(){var e=Object(_.a)(v.a.mark((function e(a){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(a,t);case 2:n=e.sent,u(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i=Object(s.a)(l,3),p=i[0],m=i[1],b=i[2];return r.a.createElement("div",null,r.a.createElement("div",{className:k.a.wrapper},r.a.createElement("form",{onSubmit:function(e){return p(e)},className:k.a.form},"Enter ID ","   ",r.a.createElement("input",{type:"text",name:"news_id",value:b.news_id?b.news_id:"",onChange:function(e){return m(e)},className:k.a.input}),r.a.createElement("input",{type:"submit",value:"Request",className:k.a.input})),r.a.createElement(E,{callback:U,defaultInputs:o}),r.a.createElement("img",{src:o.imageUrl,alt:"news attachment",className:k.a.image})))})),F=a(1),X=a.n(F),B=a(3),z=Object(p.b)(null,{setToken:function(e){return{type:"SET_TOKEN",payload:{token:e}}},setLogin:function(e){return{type:"SET_LOGIN",payload:{login:e}}}})((function(e){var t=e.setToken,a=e.setLogin,n=f(function(){var e=Object(_.a)(v.a.mark((function e(n){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(n);case 2:return r=e.sent,e.t0=a,e.next=6,r.data.user_nicename;case 6:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=t,e.next=11,r.data.token;case 11:e.t3=e.sent,(0,e.t2)(e.t3),localStorage.setItem("token",r.data.token),Object(B.c)("users/".concat(n.username));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c=Object(s.a)(n,3),o=c[0],u=c[1],l=c[2];return r.a.createElement("div",{className:X.a.wrapper},r.a.createElement("form",{onSubmit:function(e){return o(e)},className:X.a.form},r.a.createElement("label",null,r.a.createElement("span",{className:X.a.title},"username"),r.a.createElement("input",{className:X.a.input,type:"text",name:"username",value:l.username?l.username:"",onChange:function(e){return u(e)}})),r.a.createElement("label",null,r.a.createElement("span",{className:X.a.title},"Password"),r.a.createElement("input",{className:X.a.input,type:"text",name:"password",value:l.password?l.password:"",onChange:function(e){return u(e)}})),r.a.createElement("input",{type:"submit",className:X.a.button,value:"Login"})),r.a.createElement("button",{onClick:function(e){Object(B.c)("register")},className:X.a.button},"Register"))})),K=function(){var e=f(function(){var e=Object(_.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A(t),Object(B.c)("/");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t=Object(s.a)(e,3),a=t[0],n=t[1],c=t[2];return r.a.createElement("div",{className:X.a.wrapper},r.a.createElement("form",{onSubmit:function(e){return a(e)},className:X.a.form},r.a.createElement("label",null,r.a.createElement("span",{className:X.a.title},"Username"),r.a.createElement("input",{className:X.a.input,type:"text",name:"username",value:c.username?c.username:"",onChange:function(e){return n(e)},required:!0})),r.a.createElement("label",null,r.a.createElement("span",{className:X.a.title},"Email"),r.a.createElement("input",{className:X.a.input,type:"email",name:"email",value:c.email?c.email:"",onChange:function(e){return n(e)},required:!0})),r.a.createElement("label",null,r.a.createElement("span",{className:X.a.title},"Password"),r.a.createElement("input",{className:X.a.input,type:"password",name:"password",value:c.password?c.password:"",onChange:function(e){return n(e)},required:!0})),r.a.createElement("input",{className:X.a.button,type:"submit",value:"Register"})))},W=a(22),J=a.n(W),Z=function(e){var t=e.login;return r.a.createElement("div",{className:J.a.wrapper},r.a.createElement("span",{className:J.a.greetings},"Hello,",t),r.a.createElement("button",{className:X.a.button,onClick:function(e){return Object(B.c)("/"),void localStorage.removeItem("token")}},"Exit"))},G=a(17),H=a.n(G),Q=function(){return r.a.createElement("div",{className:H.a.wrapper},r.a.createElement("button",{className:X.a.button},r.a.createElement(B.a,{className:H.a.link,to:"/"},"List All News")),r.a.createElement("button",{className:X.a.button},r.a.createElement(B.a,{className:H.a.link,to:"/suggestNews"},"Suggest news")))},Y=a(18),$=a.n(Y),M=function(){return r.a.createElement("div",{className:$.a.wrapper},r.a.createElement("button",{className:X.a.button},r.a.createElement(B.a,{className:$.a.link,to:"updateForm"},"Update news")),r.a.createElement("button",{className:X.a.button},r.a.createElement(B.a,{className:$.a.link,to:"suggestNews"},"Suggest news")))},ee=a(19),te=a.n(ee),ae=function(){return r.a.createElement("div",null,r.a.createElement("span",{className:te.a.header},"News App"),r.a.createElement("div",{className:te.a.main},r.a.createElement("div",{className:te.a.wrapper},r.a.createElement(B.b,null,r.a.createElement(z,{path:"/*"}),r.a.createElement(K,{path:"register"}),r.a.createElement(Z,{path:"users/:login/*"})),r.a.createElement(B.b,null,r.a.createElement(Q,{path:"/*"}),r.a.createElement(M,{path:"users/:login/*"}))),r.a.createElement(B.b,null,r.a.createElement(j,{path:"/*"}),r.a.createElement(q,{path:"users/:login/updateForm"}),r.a.createElement(E,{path:"/suggestNews",callback:I}),r.a.createElement(E,{path:"/users/:login/suggestNews",callback:I}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ne=a(15);function re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ce(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?re(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):re(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var oe={token:"",login:""},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TOKEN":return ce({},e,{token:t.payload.token});case"DELETE_TOKEN":return ce({},e,{token:""});case"SET_LOGIN":return ce({},e,{login:t.payload.login});default:return e}},se=Object(ne.b)(ue,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());a(70);o.a.render(r.a.createElement(p.a,{store:se},r.a.createElement(ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},9:function(e,t,a){e.exports={form:"public-form_form__3YV1b",item:"public-form_item__11Lsz"}}},[[36,1,2]]]);
//# sourceMappingURL=main.645a8059.chunk.js.map